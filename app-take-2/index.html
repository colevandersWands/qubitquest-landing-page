<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantum Professional Fluency Platform</title>
    
    <!-- Core Stylesheets -->
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/quadratic-panels.css">
    <link rel="stylesheet" href="styles/responsive.css">
    
    <!-- MathJax for mathematical notation -->
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <script>
        // MathJax configuration for quantum notation
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                packages: {'[+]': ['physics']}
            },
            svg: {
                fontCache: 'global'
            }
        };
    </script>
</head>
<body>
    <!-- Application Header -->
    <header class="app-header">
        <div class="header-content">
            <h1 class="app-title">Quantum Professional Fluency</h1>
            <div class="header-controls">
                <div class="scenario-info" id="current-scenario">
                    <span class="scenario-name">Foundation: Portfolio Optimization</span>
                    <span class="entry-point">Entry: Business Context</span>
                </div>
                <button class="btn btn-primary" id="new-scenario">New Challenge</button>
                <button class="btn btn-secondary" id="assessment-mode">Assessment</button>
            </div>
        </div>
    </header>

    <!-- Main Application Area -->
    <main class="app-main">
        <!-- Progress Indicator -->
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="learning-progress"></div>
            </div>
            <div class="phase-indicators">
                <span class="phase-indicator active" data-phase="hook">Hook</span>
                <span class="phase-indicator" data-phase="contrast">Contrast</span>
                <span class="phase-indicator" data-phase="concepts">Concepts</span>
                <span class="phase-indicator" data-phase="practice">Practice</span>
                <span class="phase-indicator" data-phase="reality">Reality</span>
            </div>
        </div>

        <!-- Quadratic Fluency Interface -->
        <div class="quadratic-workspace" id="workspace">
            <!-- Business Communication Panel -->
            <div class="representation-panel plainspeak-panel" data-representation="plainspeak">
                <div class="panel-header">
                    <h3 class="panel-title">Business Communication</h3>
                    <div class="panel-controls">
                        <button class="panel-btn" id="focus-plainspeak" title="Focus on business context">
                            <span class="icon">üíº</span>
                        </button>
                        <div class="sync-indicator" id="sync-plainspeak"></div>
                    </div>
                </div>
                <div class="panel-content">
                    <div class="content-area">
                        <textarea 
                            class="content-editor plainspeak-editor"
                            id="plainspeak-input"
                            placeholder="Explain the quantum solution in business terms that executives and stakeholders can understand..."
                            rows="8">Portfolio correlation optimization using quantum computing can discover hedge ratios that classical computers miss by exploring all possible market correlation scenarios simultaneously through quantum superposition.</textarea>
                    </div>
                    <div class="panel-footer">
                        <div class="audience-selector">
                            <label>Audience:</label>
                            <select id="audience-context">
                                <option value="executives">C-Suite Executives</option>
                                <option value="stakeholders">Project Stakeholders</option>
                                <option value="clients">Potential Clients</option>
                                <option value="team">Technical Team</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Code Implementation Panel -->
            <div class="representation-panel code-panel" data-representation="code">
                <div class="panel-header">
                    <h3 class="panel-title">Python Implementation</h3>
                    <div class="panel-controls">
                        <button class="panel-btn" id="run-code" title="Execute quantum code">
                            <span class="icon">‚ñ∂Ô∏è</span>
                        </button>
                        <button class="panel-btn" id="debug-code" title="Debug and validate">
                            <span class="icon">üêõ</span>
                        </button>
                        <div class="sync-indicator" id="sync-code"></div>
                    </div>
                </div>
                <div class="panel-content">
                    <div class="content-area">
                        <div class="code-editor-container">
                            <textarea 
                                class="content-editor code-editor"
                                id="code-input"
                                placeholder="# Implement the quantum algorithm..."
                                rows="12"
                                spellcheck="false">from qiskit import QuantumCircuit, execute, Aer
import numpy as np

# Portfolio optimization quantum circuit
circuit = QuantumCircuit(4, 4)

# Create superposition of portfolio states
circuit.h(0)  # Asset correlation superposition
circuit.h(1)  # Risk factor superposition

# Encode correlation parameters
theta = np.pi/3  # Market volatility parameter
circuit.ry(theta, 1)

# Create entanglement for asset correlations
circuit.cnot(0, 1)  # Primary correlation
circuit.cnot(1, 2)  # Secondary correlation

# Apply optimization constraints
circuit.rz(np.pi/4, 2)  # Return target
circuit.rz(-np.pi/6, 3)  # Risk limit

# Measure optimal portfolio allocation
circuit.measure_all()

# Execute on quantum simulator
backend = Aer.get_backend('qasm_simulator')
job = execute(circuit, backend, shots=1000)
result = job.result()
counts = result.get_counts(circuit)

print("Optimal portfolio allocations:", counts)</textarea>
                        </div>
                    </div>
                    <div class="panel-footer">
                        <div class="code-output" id="code-output">
                            <div class="output-header">Output:</div>
                            <div class="output-content">Ready to execute...</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Visual Circuit Panel -->
            <div class="representation-panel circuit-panel" data-representation="circuit">
                <div class="panel-header">
                    <h3 class="panel-title">Quantum Circuit Design</h3>
                    <div class="panel-controls">
                        <button class="panel-btn" id="add-gate" title="Add quantum gate">
                            <span class="icon">‚äï</span>
                        </button>
                        <button class="panel-btn" id="simulate-circuit" title="Simulate circuit">
                            <span class="icon">‚ö°</span>
                        </button>
                        <div class="sync-indicator" id="sync-circuit"></div>
                    </div>
                </div>
                <div class="panel-content">
                    <div class="content-area">
                        <div class="circuit-designer" id="circuit-canvas">
                            <div class="circuit-workspace">
                                <!-- Interactive circuit will be rendered here -->
                                <div class="qubit-lines">
                                    <div class="qubit-line" data-qubit="0">
                                        <span class="qubit-label">|0‚ü©</span>
                                        <div class="qubit-wire"></div>
                                    </div>
                                    <div class="qubit-line" data-qubit="1">
                                        <span class="qubit-label">|0‚ü©</span>
                                        <div class="qubit-wire"></div>
                                    </div>
                                    <div class="qubit-line" data-qubit="2">
                                        <span class="qubit-label">|0‚ü©</span>
                                        <div class="qubit-wire"></div>
                                    </div>
                                    <div class="qubit-line" data-qubit="3">
                                        <span class="qubit-label">|0‚ü©</span>
                                        <div class="qubit-wire"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel-footer">
                        <div class="gate-palette" id="gate-palette">
                            <button class="gate-btn" data-gate="H">H</button>
                            <button class="gate-btn" data-gate="X">X</button>
                            <button class="gate-btn" data-gate="Y">Y</button>
                            <button class="gate-btn" data-gate="Z">Z</button>
                            <button class="gate-btn" data-gate="RY">RY</button>
                            <button class="gate-btn" data-gate="CNOT">CNOT</button>
                            <button class="gate-btn" data-gate="M">M</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Mathematical Notation Panel -->
            <div class="representation-panel notation-panel" data-representation="notation">
                <div class="panel-header">
                    <h3 class="panel-title">Mathematical Formulation</h3>
                    <div class="panel-controls">
                        <button class="panel-btn" id="render-latex" title="Render mathematical notation">
                            <span class="icon">‚àë</span>
                        </button>
                        <button class="panel-btn" id="complexity-analysis" title="Analyze complexity">
                            <span class="icon">üìä</span>
                        </button>
                        <div class="sync-indicator" id="sync-notation"></div>
                    </div>
                </div>
                <div class="panel-content">
                    <div class="content-area">
                        <div class="notation-editor-container">
                            <textarea 
                                class="content-editor notation-editor"
                                id="notation-input"
                                placeholder="Enter mathematical formulation using LaTeX notation..."
                                rows="8">% Portfolio Optimization Quantum State Evolution

% Initial state: uniform superposition
|\psi_0\rangle = \frac{1}{2}(|0000\rangle + |0001\rangle + |0010\rangle + \ldots + |1111\rangle)

% After Hadamard gates on qubits 0,1:
|\psi_1\rangle = H \otimes H \otimes I \otimes I |\psi_0\rangle

% After rotation on qubit 1 (risk parameter):
|\psi_2\rangle = I \otimes RY(\theta) \otimes I \otimes I |\psi_1\rangle

% After CNOT entanglement:
|\psi_3\rangle = CNOT_{0,1} \cdot CNOT_{1,2} |\psi_2\rangle

% Final optimization state:
|\psi_{final}\rangle = RZ(\pi/4) \otimes RZ(-\pi/6) |\psi_3\rangle

% Measurement probability for optimal allocation:
P(optimal) = |\langle optimal |\psi_{final}\rangle|^2</textarea>
                        </div>
                    </div>
                    <div class="panel-footer">
                        <div class="notation-preview" id="notation-preview">
                            <div class="preview-header">Rendered Mathematics:</div>
                            <div class="preview-content" id="math-preview">
                                <!-- Rendered LaTeX will appear here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Performance Comparison Dashboard -->
        <div class="performance-dashboard">
            <div class="dashboard-header">
                <h3>Quantum vs Classical Performance Analysis</h3>
                <button class="btn btn-small" id="update-metrics">Update Analysis</button>
            </div>
            <div class="metrics-grid">
                <div class="metric-card classical-metric">
                    <div class="metric-label">Classical Parallel</div>
                    <div class="metric-value">O(N/P)</div>
                    <div class="metric-detail">1M portfolios on 1000 cores</div>
                </div>
                <div class="metric-card quantum-metric">
                    <div class="metric-label">Quantum Advantage</div>
                    <div class="metric-value">O(‚àöN)</div>
                    <div class="metric-detail">‚àö1M = 1000x speedup</div>
                </div>
                <div class="metric-card business-metric">
                    <div class="metric-label">Business Impact</div>
                    <div class="metric-value">$5M+</div>
                    <div class="metric-detail">Annual savings potential</div>
                </div>
                <div class="metric-card feasibility-metric">
                    <div class="metric-label">Implementation</div>
                    <div class="metric-value" id="feasibility-score">85%</div>
                    <div class="metric-detail">Technical feasibility</div>
                </div>
            </div>
        </div>
    </main>

    <!-- Contextual Help & Scenarios -->
    <aside class="context-sidebar" id="context-sidebar">
        <div class="sidebar-header">
            <h3>Learning Context</h3>
            <button class="sidebar-toggle" id="sidebar-toggle">‚óÄ</button>
        </div>
        <div class="sidebar-content">
            <div class="current-phase" id="current-phase">
                <h4>Current Phase: Hook</h4>
                <p>Understand the business problem and recognize why conventional computing hits limits.</p>
            </div>
            <div class="objectives-list" id="objectives">
                <h4>Learning Objectives</h4>
                <ul>
                    <li class="objective completed">Identify quantum-suitable problems</li>
                    <li class="objective">Explain business value clearly</li>
                    <li class="objective">Implement basic quantum solution</li>
                    <li class="objective">Analyze performance trade-offs</li>
                </ul>
            </div>
            <div class="help-section">
                <h4>Quick Help</h4>
                <div class="help-tips">
                    <div class="tip">
                        <strong>Translation Tip:</strong> Focus on the business outcome, not the technical implementation details.
                    </div>
                </div>
            </div>
        </div>
    </aside>

    <!-- Core JavaScript Modules -->
    <script type="module" src="js/app.js"></script>
    <script type="module" src="js/quantum-sim.js"></script>
    <script type="module" src="js/translation-engine.js"></script>
    <script type="module" src="js/curriculum.js"></script>
    <script type="module" src="js/assessment.js"></script>
    <script type="module" src="js/circuit-designer.js"></script>

    <!-- Application Initialization -->
    <script type="module">
        import { QuantumApp } from './js/app.js';
        
        // Initialize application when DOM is ready
        document.addEventListener('DOMContentLoaded', () => {
            window.quantumApp = new QuantumApp();
            window.quantumApp.initialize();
        });
    </script>
</body>
</html>